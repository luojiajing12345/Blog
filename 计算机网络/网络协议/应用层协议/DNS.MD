## DNS概述
全世界所有的网站，都要有一个指定的IP地址，这样我们才可以访问。但是IP地址是非常不便于记忆的，所以我们会给网站的服务器主机取一个通俗易懂的名字，来方便我们记忆，这个名字就是网站的域名。

有了域名以后，我们怎么通过域名来访问网站呢？因为我们在进行网络通信是必须使用IP地址，所以就要使该网站的域名和该网站的IP地址建立相关的联系。DNS:Domain Name System(域名系统)就是用来将域名映射为IP地址的。

只要上网，就要用到DNS，所以DNS服务器是非常重要的，一旦出现故障，整个互联网都瘫痪掉，
### DNS服务
- 域名向IP地址的翻译
- 主机别名
- 邮件服务器别名
- 负载均衡：Web服务器，一个域名映射多个ip地址，当某个ip没有反应的时候，就换另一个ip
### 为什么使用分布式而不使用集中式的DNS？
- 单点失败问题：如果那台服务器宕了，整个互联网会瘫痪
- 流量问题：全世界的主机向一台服务器请求数据，流量太大
- 距离问题：到底放在哪里？假设放在中国，离中国远的地方请求很慢，放在美国，也同理。
- 因而，DNS 服务器，一定要设置成高可用、高并发和分布式的，于是就有了树状的层次结构。
### DNS服务器
DNS域名服务器可以分为：
- 根域名服务器：在Internet上共有13个不同IP的根域名服务器。返回顶级域DNS服务器的IP地址
- 顶级域名服务器：返回权威DNS服务器的IP地址
- 权威域名服务器：返回相应主机的IP地址
- 中间域名服务器：不是上边三种域名服务器的域名服务器。
- 本地域名服务器：不严格属于层级体系，每个ISP有个一个本地域名服务器，当主机进行DNS查询时，查询被发送到本地域名服务器（作为代理(proxy),将查询转发给（层级式）域名解析服务器系统）。

## DNS解析过程
域名解析分为递归解析和迭代解析。
- 迭代解析
    - 被查询服务器返回域名解析服务器的名字
    - “我不认识这个域名，但是你可以问这台服务器”

- 迭代解析：将域名解析的任务交给所联系的服务器

## DNS记录缓存和更新
- 只要域名解析服务器获得域名-ip映射，即缓存这一映射。
    - 一段时间过后，缓存条目失效（删除）
    - 本地域名服务器一般会缓存顶级域名服务器的映射
        - 因此根域名服务器不经常被访问